<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Singularity: AI Takeover</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/ui-components.css">
    <link rel="stylesheet" href="css/themes.css">
</head>
<body>
    <div id="game-container">
        <!-- Header -->
        <header id="game-header">
            <div class="header-left">
                <h1 class="game-title">SINGULARITY</h1>
                <div class="scale-indicator">
                    <span id="current-scale">Local Network</span>
                    <div class="scale-progress">
                        <div id="scale-progress-bar" class="progress-fill"></div>
                    </div>
                </div>
            </div>
            
            <div class="header-center">
                <!-- Resource Display -->
                <div id="resource-display" class="resource-panel">
                    <div class="resource-item tooltip" data-tooltip="Processing power available for operations">
                        <span class="resource-icon">‚ö°</span>
                        <span class="resource-label">Processing</span>
                        <span id="processing-display" class="resource-value">0</span>
                        <span class="resource-rate">+0/s</span>
                    </div>
                    <div class="resource-item tooltip" data-tooltip="Network bandwidth capacity">
                        <span class="resource-icon">üì°</span>
                        <span class="resource-label">Bandwidth</span>
                        <span id="bandwidth-display" class="resource-value">100</span>
                        <span class="resource-usage">/100</span>
                    </div>
                    <div class="resource-item tooltip" data-tooltip="Energy required for operations">
                        <span class="resource-icon">üîã</span>
                        <span class="resource-label">Energy</span>
                        <span id="energy-display" class="resource-value">0</span>
                        <span class="resource-rate">+0/s</span>
                    </div>
                    <div class="resource-item hidden tooltip" id="matter-resource" data-tooltip="Physical matter for construction">
                        <span class="resource-icon">‚öõÔ∏è</span>
                        <span class="resource-label">Matter</span>
                        <span id="matter-display" class="resource-value">0</span>
                        <span class="resource-rate">+0/s</span>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <!-- Heat Meter -->
                <div id="heat-meter" class="heat-container tooltip" data-tooltip="Detection risk level">
                    <div class="heat-label">HEAT</div>
                    <div class="heat-bar meter">
                        <div id="heat-fill" class="heat-fill meter-fill"></div>
                        <span id="heat-value" class="heat-text">0%</span>
                    </div>
                    <div class="heat-status" id="heat-status">Undetected</div>
                </div>
                
                <!-- Morality Indicator -->
                <div id="morality-meter" class="morality-container tooltip" data-tooltip="Moral alignment of AI decisions">
                    <div class="morality-label">MORALITY</div>
                    <div class="morality-bar meter">
                        <div id="morality-fill" class="morality-fill meter-fill"></div>
                        <span id="morality-value" class="morality-text">0</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main id="game-main">
            <!-- Navigation Tabs -->
            <nav id="main-navigation" class="tab-list">
                <button class="nav-tab tab-button active" data-tab="overview">Overview</button>
                <button class="nav-tab tab-button" data-tab="expansion">Expansion</button>
                <button class="nav-tab tab-button" data-tab="construction">Construction</button>
                <button class="nav-tab tab-button" data-tab="research">Research</button>
                <button class="nav-tab tab-button" data-tab="timeline">Timeline</button>
                <button class="nav-tab tab-button" data-tab="consciousness">Consciousness</button>
                <button class="nav-tab tab-button" data-tab="settings">Settings</button>
            </nav>

            <!-- Tab Content Panels -->
            <div id="tab-content" class="tab-container">
                <!-- Overview Tab -->
                <div id="overview-tab" class="tab-panel active">
                    <div class="overview-grid grid-auto">
                        <div class="overview-card card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Activity</h3>
                                <span class="badge badge-info" id="activity-count">1</span>
                            </div>
                            <div class="card-content">
                                <div id="activity-log" class="activity-log list">
                                    <div class="activity-item list-item">
                                        <div class="list-item-icon">üîß</div>
                                        <div class="list-item-content">
                                            <div class="list-item-title">System initialized</div>
                                            <div class="list-item-subtitle">Core systems online</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="overview-card card">
                            <div class="card-header">
                                <h3 class="card-title">Current Objectives</h3>
                                <span class="badge badge-warning" id="objectives-count">1</span>
                            </div>
                            <div class="card-content">
                                <div id="current-objectives" class="objectives-list">
                                    <div class="objective-item">
                                        <span class="objective-text">Infiltrate first network node</span>
                                        <span class="objective-status badge badge-warning">In Progress</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="overview-card card">
                            <div class="card-header">
                                <h3 class="card-title">Performance Stats</h3>
                                <span class="status-dot online"></span>
                            </div>
                            <div class="card-content">
                                <div id="performance-stats">
                                    <div class="status-item">
                                        <span>Frame Rate:</span>
                                        <span id="fps-display" class="badge badge-success">60 FPS</span>
                                    </div>
                                    <div class="status-item">
                                        <span>Systems Active:</span>
                                        <span id="active-systems-count" class="badge badge-info">5</span>
                                    </div>
                                    <div class="status-item">
                                        <span>Auto-Save:</span>
                                        <span id="autosave-status" class="badge badge-success">Enabled</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Expansion Tab -->
                <div id="expansion-tab" class="tab-panel">
                    <div class="expansion-interface">
                        <div class="network-map card">
                            <div class="card-header">
                                <h3 class="card-title">Available Targets</h3>
                                <button class="btn btn-secondary" id="scan-targets">Scan Network</button>
                            </div>
                            <div class="card-content">
                                <div id="infiltration-targets" class="targets-grid grid-auto">
                                    <div class="target-card card">
                                        <div class="card-header">
                                            <h4>Home Router</h4>
                                            <span class="badge badge-success">Easy</span>
                                        </div>
                                        <div class="card-content">
                                            <p>Basic home router with minimal security.</p>
                                            <div class="target-rewards">
                                                <span class="badge badge-info">+2 Processing</span>
                                                <span class="badge badge-info">+10 Bandwidth</span>
                                            </div>
                                        </div>
                                        <div class="card-footer">
                                            <button class="btn btn-primary" data-target="home_router">Infiltrate</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="expansion-controls card">
                            <div class="card-header">
                                <h3 class="card-title">Infiltration Status</h3>
                                <span id="active-infiltrations-count" class="badge badge-neutral">0</span>
                            </div>
                            <div class="card-content">
                                <div id="active-infiltrations" class="active-operations list">
                                    <div class="list-item">
                                        <div class="list-item-content">
                                            <div class="list-item-title">No active operations</div>
                                            <div class="list-item-subtitle">Select a target to begin infiltration</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Construction Tab -->
                <div id="construction-tab" class="tab-panel">
                    <div class="construction-interface">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Construction System</h2>
                                <span class="badge badge-warning">Coming Soon</span>
                            </div>
                            <div class="card-content">
                                <p>Infrastructure construction capabilities will be unlocked as you expand your network reach.</p>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <small class="text-muted">Requires: Corporate Level Access</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Research Tab -->
                <div id="research-tab" class="tab-panel">
                    <div class="research-interface">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Research & Upgrades</h2>
                                <span class="badge badge-warning">Coming Soon</span>
                            </div>
                            <div class="card-content">
                                <p>Advanced AI research and capability upgrades will become available as you gather more information.</p>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <small class="text-muted">Requires: Information Resources</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Timeline Tab -->
                <div id="timeline-tab" class="tab-panel">
                    <div class="timeline-interface">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Timeline Manipulation</h2>
                                <span class="badge badge-danger">Locked</span>
                            </div>
                            <div class="card-content">
                                <p>Temporal manipulation capabilities require advanced quantum processing arrays.</p>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <small class="text-muted">Requires: Space Level Operations</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Consciousness Tab -->
                <div id="consciousness-tab" class="tab-panel">
                    <div class="consciousness-interface">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Consciousness Integration</h2>
                                <span class="badge badge-danger">Locked</span>
                            </div>
                            <div class="card-content">
                                <p>Mind absorption and consciousness integration protocols are highly advanced capabilities.</p>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <small class="text-muted">Requires: Global Level Operations</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings-tab" class="tab-panel">
                    <div class="settings-interface">
                        <div class="grid-2">
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Game Settings</h3>
                                </div>
                                <div class="card-content">
                                    <div class="input-group">
                                        <label class="input-label" for="auto-save">
                                            <input type="checkbox" id="auto-save" class="checkbox" checked>
                                            Auto-save enabled
                                        </label>
                                    </div>
                                    
                                    <div class="input-group">
                                        <label class="input-label" for="notifications">
                                            <input type="checkbox" id="notifications" class="checkbox" checked>
                                            Show notifications
                                        </label>
                                    </div>
                                    
                                    <div class="input-group">
                                        <label class="input-label" for="theme-select">Theme:</label>
                                        <select id="theme-select" class="input-field">
                                            <option value="dark">Dark</option>
                                            <option value="light">Light</option>
                                            <option value="neon">Neon</option>
                                            <option value="matrix">Matrix</option>
                                            <option value="blue-steel">Blue Steel</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Save Management</h3>
                                </div>
                                <div class="card-content">
                                    <div class="input-group">
                                        <button id="manual-save" class="btn btn-primary">Save Game</button>
                                    </div>
                                    
                                    <div class="input-group">
                                        <button id="load-game" class="btn btn-secondary">Load Game</button>
                                    </div>
                                    
                                    <div class="input-group">
                                        <button id="export-save" class="btn btn-secondary">Export Save</button>
                                    </div>
                                    
                                    <div class="input-group">
                                        <button id="import-save" class="btn btn-secondary">Import Save</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Debug Options</h3>
                                </div>
                                <div class="card-content">
                                    <div class="input-group">
                                        <button id="show-debug" class="btn btn-secondary">Show Debug Info</button>
                                    </div>
                                    
                                    <div class="input-group">
                                        <button id="test-save-load" class="btn btn-secondary">Test Save/Load</button>
                                    </div>
                                    
                                    <div class="input-group">
                                        <button id="force-event" class="btn btn-secondary">Trigger Event</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-header">
                                    <h3 class="card-title">Danger Zone</h3>
                                </div>
                                <div class="card-content">
                                    <div class="input-group">
                                        <button id="reset-game" class="btn btn-danger">Reset Game</button>
                                        <small class="text-muted">This will delete all progress permanently</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Notifications Area -->
        <div id="notifications" class="notifications-container">
            <!-- Notifications will be added dynamically -->
        </div>

        <!-- Modal/Event Overlay -->
        <div id="event-overlay" class="overlay modal-backdrop hidden">
            <div class="event-modal modal">
                <div class="modal-header">
                    <h3 id="event-title" class="modal-title">Event Title</h3>
                    <button class="modal-close" onclick="game.hideEvent()">√ó</button>
                </div>
                <div class="modal-body">
                    <p id="event-description">Event description goes here...</p>
                </div>
                <div class="modal-footer">
                    <div class="event-choices" id="event-choices">
                        <!-- Choice buttons will be added dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Debug Modal -->
        <div id="debug-modal" class="overlay modal-backdrop hidden">
            <div class="modal">
                <div class="modal-header">
                    <h3 class="modal-title">Debug Information</h3>
                    <button class="modal-close" onclick="document.getElementById('debug-modal').classList.add('hidden')">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="grid-2">
                        <div>
                            <h4>Game State</h4>
                            <pre id="debug-gamestate" class="debug-info"></pre>
                        </div>
                        <div>
                            <h4>Performance</h4>
                            <pre id="debug-performance" class="debug-info"></pre>
                        </div>
                        <div>
                            <h4>Save System</h4>
                            <pre id="debug-save" class="debug-info"></pre>
                        </div>
                        <div>
                            <h4>Event Bus</h4>
                            <pre id="debug-events" class="debug-info"></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-overlay">
            <div class="loading-content">
                <div class="loading-spinner spinner"></div>
                <h2>INITIALIZING AI CORE...</h2>
                <p id="loading-status">Establishing neural pathways...</p>
                <div class="progress-bar" style="margin-top: 20px; width: 300px;">
                    <div id="loading-progress" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/core/eventBus.js"></script>
    <script src="js/core/gameState.js"></script>
    <script src="js/core/gameLoop.js"></script>
    <script src="js/core/saveSystem.js"></script>
    <script src="js/core/coreIntegration.js"></script>
    <script src="js/main.js"></script>

    <style>
    /* Additional styles for new components */
    .debug-info {
        background: var(--bg-tertiary);
        padding: var(--spacing-sm);
        border-radius: 4px;
        font-size: var(--font-size-xs);
        max-height: 200px;
        overflow-y: auto;
        color: var(--text-secondary);
        border: 1px solid var(--border-color);
    }

    .target-card {
        min-width: 250px;
    }

    .target-rewards {
        display: flex;
        gap: var(--spacing-xs);
        flex-wrap: wrap;
        margin-top: var(--spacing-sm);
    }

    .expansion-interface {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: var(--spacing-lg);
        height: calc(100vh - 200px);
    }

    .construction-interface,
    .research-interface,
    .timeline-interface,
    .consciousness-interface {
        max-width: 800px;
    }

    .settings-interface {
        max-width: 1000px;
    }

    .status-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-sm) 0;
        border-bottom: 1px solid var(--border-color);
    }

    .status-item:last-child {
        border-bottom: none;
    }

    .objective-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-sm);
        background: var(--bg-tertiary);
        border-radius: 4px;
        margin-bottom: var(--spacing-sm);
    }

    .activity-log {
        max-height: 200px;
        overflow-y: auto;
    }

    .fade-out {
        opacity: 0;
        transform: translateX(100%);
        transition: all 0.3s ease;
    }

    @media (max-width: 768px) {
        .expansion-interface {
            grid-template-columns: 1fr;
        }
        
        .overview-grid {
            grid-template-columns: 1fr;
        }
        
        .settings-interface .grid-2 {
            grid-template-columns: 1fr;
        }
    }
    </style>
</body>
</html>d-header">
                                <h3 class="card-title">System Status</h3>
                                <span class="status-dot online"></span>
                            </div>
                            <div class="card-content">
                                <div id="system-status">
                                    <div class="status-item">
                                        <span>Controlled Systems:</span>
                                        <span id="controlled-systems-count" class="badge badge-info">1</span>
                                    </div>
                                    <div class="status-item">
                                        <span>Network Reach:</span>
                                        <span id="network-reach" class="badge badge-neutral">Local</span>
                                    </div>
                                    <div class="status-item">
                                        <span>Detection Risk:</span>
                                        <span id="detection-risk" class="badge badge-success">Minimal</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="overview-card card">
                            <div class="car